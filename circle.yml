machine:
    pre:
        - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20
        - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20
    node:
        version: 6.9.5

general:
    branches:
        ignore:
            - gh-pages

dependencies:
    pre:
        - sudo apt-get install automake-1.14
        - sudo apt-get install yasm
        - sudo add-apt-repository ppa:dns/gnu -y
        - sudo apt-get update -q
        - sudo apt-get install --only-upgrade autoconf
    cache_directories:
        - libs
        - Jerasure
        - erasurecode
        - gf_complete

test:
    override:
        - npm run lint
        - npm test
